# Production Kustomization
# Overlay for production-specific configurations
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: incidentfox-prod

resources:
- ../sandbox_router.yaml
- ../gvisor-runtimeclass.yaml
- ../service-patcher.yaml

# Production-specific patches
patches:
- path: router-patch.yaml
  target:
    kind: Deployment
    name: sandbox-router-deployment

# ConfigMap for production settings
configMapGenerator:
- name: production-config
  literals:
  - ENVIRONMENT=production
  - LOG_LEVEL=info
  - ROUTER_URL=http://sandbox-router-svc.incidentfox-prod.svc.cluster.local:8080

# Labels for all resources
commonLabels:
  environment: production
  managed-by: incidentfox

